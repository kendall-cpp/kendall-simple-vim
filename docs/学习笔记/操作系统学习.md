

----------------

# 操作系统真象还原

## 第 1 章

### BIOS

BIOS 的工作是检测、初始化硬件，还有建立向量表，这样就可以通过“int中断好”来实现相关的硬件调用。

> BIOS 建立的这些功能代码就是对硬件的 IO 操作

> 为什么插入主板的内存不是实际的全部内存

因为在计算机中，并不是只有插主板上的内存条需要通过地址总线，(地址总线的宽度决定可以访问的内存空间大小) 还有其他外设也是沟通过地址总线来访问内存的，所以地址总线需要预留出一些内存给外设（比如显存，硬盘控制器等），剩下的可用内存再指向 DRAM（动态随记访问内存）。这就是为什么安装了 4GB 的内存，而电脑中只显示 3.8GB 的原因

BIOS 是计算机上的第一个运行的软件，它是由硬件加载的，BIOS 的代码是写在 ROM [只读存储器] 上的 BIOS，因为 BIOS 代码所做的工作室一成不变的，不需要更改。 BIOS 执行的入口地址是 0xFFFF0。


### 按下开机之后电脑发生了什么

计算机接通电源瞬间，CPU 的 cs:ip 寄存器被强制初始化为 0xF000:0xFFF0，开机的时候处于实模式，在实模式下段即址需要乘以 16，也就是左移 4 位，所以 0xF000:0xFFF0 的等效地址就是 0xFFFF0，这就是 BIOS 的入口地址。

