## 算法部分

## 实现`split`

```cpp
#include <iostream>
#include <string>
#include <sstream>
#include <iostream>
#include <vector>

using namespace std;

vector<string> split(string str,char ch) {
    //加上ch，是为了保证最后一个字符串
    str += ch;
    vector<string> res;
    string temp = "";
    for(int i=0;i<str.size();++i) {
        if(str[i] == ch) {  //当遇到切割符
            res.push_back(temp);
            temp = "";
        }
        else {
            temp += str[i];
        }
    }
    return res;
}

int main() {

    string str;
    cin >> str;
    vector<string> strSplit = split(str,',');



    cout << "输入的字符串：" <<  str << endl << endl;;
    cout << "切割后的字符串：";
    for(int i=0;i<strSplit.size();++i) {
        cout << strSplit[i] << " ";
    }
    cout << endl;
    return 0;
}
```

### 字符串相减

[参考链接](https://mp.weixin.qq.com/s/kCue4c0gnLSw0HosFl_t7w)

```cpp
#include <iostream>
#include <algorithm>
#include <string>
using namespace std;

//相减函数
string sub(string a, string b) {
    string res = "";
    int borrow = 0;
    int i = a.size() - 1, j = b.size() - 1;
    while (i >= 0 || j >= 0) {
        int x = i >= 0 ? a[i] - '0' : 0;
        int y = j >= 0 ? b[j] - '0' : 0;
        int z = (x - borrow - y + 10) % 10;
        res += '0' + z;
        borrow = x - borrow - y < 0 ? 1 : 0;
        i--, j--;
    }
    reverse(res.begin(), res.end());
    //删除前导0。循环条件是res.size()-1是为防止"0000"的情况
    int pos;
    for (pos = 0; pos < res.size() - 1; pos++) {
        if (res[pos] != '0') break;
    }
    return res.substr(pos);
}

//比较两个字符串的大小
bool cmp(string num1,string num2) {
    //长度一样就去比较字典序
    if(num1.size() == num2.size()) {
        return num1 < num2;
    }
    return num1.size() < num2.size();
}

//字符串相减
string subString(string num1,string num2) {
    string res;
    //由于是大数，所以不能直接转成int比较
    //我们可以先比较两个字符串的长度
    //长度长的字符串，数一定更大，当长度一样长的就去比较字典序
    if(cmp(num1,num2)) {  //返回true，如果num1 < num2
        res = sub(num2,num1);
        if(res != "0") res.insert(0,"-");
    }
    else res = sub(num1,num2);

    return res;
}

int main() {

    string a,b;
    cin >> a >> b;
    cout << subString(a,b) << endl;
    return 0;
}
```


### 二叉树深度

[LC二叉树深度](https://leetcode-cn.com/problems/er-cha-shu-de-shen-du-lcof)

[NK二叉树的最大深度](https://www.nowcoder.com/practice/8a2b2bf6c19b4f23a9bdb9b233eefa73?tpId=117&tqId=37721&rp=1&ru=%2Fta%2Fjob-code-high&qru=%2Fta%2Fjob-code-high%2Fquestion-ranking&tab=answerKey)

题解：

```cpp

```


### 判断链表中是否有环

[LC判断链表中是否有环](https://leetcode-cn.com/problems/linked-list-cycle/)

```cpp
class Solution {
public:
    bool hasCycle(ListNode *head) {
        if(head == nullptr || head->next == nullptr) return false;
        ListNode* fast = head;
        ListNode* slow = head;
        //保证fast = fast->next->next;不出错
        while(fast != nullptr && fast->next != nullptr) {
            slow = slow->next;
            fast = fast->next->next;
            if(slow == fast) return true;
        }
        return false;
    }
};
```

[NK判断链表中是否有环](https://www.nowcoder.com/practice/650474f313294468a4ded3ce0f7898b9?tpId=117&tab=answerKey)

判断给定的链表中是否有环。如果有环则返回true，否则返回false。

你能给出空间复杂度$O(1)$的解法么？

题解：

```cpp
class Solution {
public:
    bool hasCycle(ListNode *head) {
        if(head == nullptr || head->next == nullptr) return false;
        ListNode* fast = head;
        ListNode* slow = head;
        while(fast && fast->next) {
            slow = slow->next;
            fast = fast->next->next;
            if(slow == fast) return true;
        }
        return false;
    }
};
```


----
腾讯音乐后台开发实习一面。

发面经攒人品。

- 自我介绍

面试官：你做过两个项目是吧，这个流媒体项目是基于安卓的是么...

编码量是怎样的？

音视频的技术难点是清晰度，延迟问题，你是怎么解决的。

实习项目，挑两个参与度比较高的模块来说一下。

> 我把整个项目的各个子模块都说了（说的比较详细）

爬虫系统每天处理URL的量是多少

> 一千万左右

提升性能的话在哪方面进行处理

> 说了epoll多路复用技术实现异步

这是网络上的异步，那么各个任务之间的异步，（它实际上是想问，线程池，后面他提示了）

> 说了URL优先级队列的设计优化。


怎么筛选目标数据

>  正则表达式（网上查的）

线程池怎么设计的。

线程池自动扩容，怎么设置临界点的。（不懂）

反爬机制了解多少。怎么解决。

> 说了验证码，说了IP封禁。其他的不知道。

学一些那些东西。自己做过demo的例子？

说了实现客户端服务端通信。

基于什么协议，什么机制通信的

> 基于TCP socket，从select到poll，到 epoll 的使用对比和优势

做系统的时候出现一些问题的话怎么去排查。

> 没准备到这个，说了但是使用了 netstat 查看监听端口。

netstat 除了监听端口，还能查什么信息。

查看IO占用的命令。网络相关的命令。

> 一紧张真的忘了。（后面发现好简单这个问题)

那你说一下Linux常用的命令

说了ps，管道，grep，ifconfig，ps aux, kill ...

自己摸索这个项目遇到什么困难。怎么学习解决的

> balabala


你这边有什么问题？

你们这个部分的业务是和QQ音乐相关么？

商业广告。直播电商带货。

学习建议。

有几面？三面。

居然，居然，居然，没有手撕代码。早上六点起来把所有常见的算法手撕了一遍，没想到呀....


PS：整个面试过程都是结合实习和项目来问。问的比较发散，大部分是考察你有没有真正做过，遇到问题怎么思考和解决的。每提一个问题我都是从项目的角度去回答的，就比如问Linux命令的时候，而不是列出这些命令，而是说当时在解决什么问题的时候用了什么命令。问反爬机制的时候，也是结合当时遇到了反爬问题来回答的。大致都是这样说。

最后面试官超级nice，爱了。保佑我进入下一轮吧！！！

-----


